
1. 프로젝트명(가칭): AnyGrow2 기반 스마트팜 통합 모니터링 & 조명 스케줄 제어 프로그램
- 개발 목적: 실내 재배 환경에서 가장 중요한 **센서 데이터(온도/습도/CO₂/조도)**를 PC에서 실시간으로 확인하고, 조명을 스케줄 기반으로 자동 운영할 수 있도록 하여 운영 부담을 줄이고 생육 환경을 안정화한다.
- 적용 범위(현재 구현된 기능 기준):
  - 보드와 PC를 시리얼 통신으로 연결
  - 센서 데이터 수신 → 화면에 수치 + 막대그래프로 표시
  - 조명은 프리셋/수동 스케줄 입력으로 시간대별 모드를 계산해 적용
  - LED는 전체 모드(Off/Mood/On) 제어 가능
  - 통신 문제 발생 시 재연결 기능으로 복구 가능
- 최종 산출물:
  - 실행 가능한 데스크톱 GUI 프로그램(모니터링 + 조명 스케줄/제어)
  - 스케줄 운영 방식/사용 방법을 정리한 간단 매뉴얼(화면 기준)
  
2-1. 센서 데이터 실시간 모니터링
- 기능 목표: 사용자가 별도 계산 없이 현재 환경을 즉시 파악하도록, 센서 데이터를 실시간으로 수신해 화면에 표시한다.
- 표시 항목: 온도(°C), 습도(%), CO₂(ppm), 조도(lx)
- 동작 흐름
  - 시리얼 연결 상태에서 센서 데이터를 주기적으로 수신
  - 수신 데이터를 항목별 값으로 처리(파싱)
  - UI에 현재 값을 즉시 업데이트하여 “지금 상태”를 확인 가능
- 운영 관점의 장점
  - 재배 환경을 감으로 관리하지 않고, 수치 기반으로 즉시 확인 가능
  - 값이 들어오는지 여부를 UI에서 확인 가능(수신 상태 확인 용이)
    
2-2. 막대그래프(Bar) 기반 시각화
- 기능 목표: 숫자만으로 판단하기 어려운 변화를 한눈에 보기 위해, 센서값을 막대그래프로 시각화한다.
- 표현 방식
  - 항목별 최대 스케일을 기준으로 현재 값의 비율을 계산
  - 비율에 따라 막대 길이를 변경하여 시각적으로 변화/증감을 쉽게 파악
- 기대 효과(사용성)
  - "오늘 CO₂가 계속 높았나?", "조도가 평소보다 낮나?" 같은 판단을 그래프 형태로 직관적으로 가능
  - 운영자가 빠르게 이상 징후를 감지하는 데 도움이 됨

2-3. 조명 스케줄(프리셋 + 수동 입력) 및 자동 적용
- 기능 목표: 조명을 매번 수동으로 켜고 끄지 않고, 시간 구간을 등록해 자동으로 조명 모드를 운영한다.
- 스케줄 입력 방식
  - 프리셋 선택: 작물/상황에 맞는 기본 스케줄을 빠르게 적용
  - 수동 입력: 사용자가 원하는 시작/종료 시간을 직접 입력해 여러 구간을 구성
- 스케줄 계산/적용 방식(핵심)
  - 현재 시간을 기준으로, 등록된 시간 구간 중 “지금 해당되는 구간”을 찾아 해당 모드로 결정
  - 자정을 넘어가는 구간도 고려 가능한 형태로 시간 처리를 구성(현실 운영에 필요한 케이스 대응)
  - 주기적으로 현재 시간을 다시 확인하여 모드가 바뀌는 시점에 자동 반영
- 실제 제어 범위(현재 구현)
  - LED를 **전체 모드(Off / Mood / On)**로 전송/적용하는 방식으로 제어 가능
  
2-4. 통신 재연결(안정성 기능)
- 기능 목표: 운영 중 케이블 접촉/포트 변경 등으로 통신이 끊겨도, 프로그램을 종료하지 않고 재연결로 복구 가능하게 한다.
- 동작 개념
  - 연결 실패/끊김 상황에서 재연결 동작으로 포트를 다시 열어 정상 상태로 복원
- 효과
  - 실사용 환경에서 자주 발생하는 통신 이슈에 대응 가능
  - 현장 운영 안정성이 올라감

3-1. 운영 시나리오(사용 흐름)
- 사용자가 프로그램 실행 후 시리얼 포트를 선택/연결한다.
- 센서값(온도/습도/CO₂/조도)이 실시간으로 갱신되며, 그래프와 함께 현재 상태를 확인한다.
- 조명 스케줄에서 프리셋을 선택하거나, 필요 시 시간 구간을 수동으로 입력한다.
- 스케줄 적용 후, 프로그램이 현재 시간에 맞는 LED 모드를 계산해 자동으로 반영한다.
- 통신이 불안정해지면 재연결 기능으로 복구 후 운영을 이어간다.

3-2. 테스트 계획(성공 기준)
- 연결 테스트: 포트 연결/해제/재연결 시 프로그램이 정상 동작하는가
- 센서 갱신 테스트: 수치/그래프가 주기적으로 업데이트되는가(끊김 없이 표시되는가)
- 스케줄 테스트:
  - 일반 구간(예: 08:00~20:00) 적용이 정확한가
  - 자정 넘어가는 구간(예: 22:00~02:00)에서 모드 판단이 자연스러운가
- 모드 전송 테스트: Off/Mood/On 전송 후 실제 장치 상태가 기대대로 반영되는가

3-3. 기대효과
- 운영자는 센서 상태를 실시간 수치 + 그래프로 확인해 즉각 대응할 수 있다.
- 조명은 스케줄 기반 자동화로 운영 피로도를 줄이고, 재배 루틴을 안정적으로 유지할 수 있다.
- 재연결 기능을 통해 현장 통신 변수에도 프로그램을 안정적으로 운용할 수 있다.

<img width="682" height="507" alt="image" src="https://github.com/user-attachments/assets/e40c983a-b660-4ca8-becb-acbf6314cad5" />
<img width="817" height="614" alt="image" src="https://github.com/user-attachments/assets/923c668b-a241-470c-987a-be398bd3738f" />
<img width="811" height="607" alt="image" src="https://github.com/user-attachments/assets/f1a30d5f-6bc0-4999-8a74-465d1d844b3e" />
